# Telemetry Analysis

## **UNDER CONSTRUCTION**

Code and Jupyter Notebooks supporting analysis of data generated by related modules:

- [Telemetry OBD Logger](https://github.com/thatlarrypearson/telemetry-obd)
- [Telemetry OBD Data To CSV File](https://github.com/thatlarrypearson/telemetry-obd-log-to-csv)
- [Telemetry GPS Location and Time Logger](https://github.com/thatlarrypearson/telemetry-gps)
- [Telemetry Weather Logging](https://github.com/thatlarrypearson/telemetry-wthr)
- [Telemetry IMU (inertial motion unit) Logger](https://github.com/thatlarrypearson/telemetry-imu)

## Notebooks

In this repository, notebooks, encoded as [jupytext](https://jupytext.readthedocs.io/en/latest/) [```py:percent``` format](https://jupytext.readthedocs.io/en/latest/formats-scripts.html) files, are found in the ```scripts/``` directory and support ```git``` based source code control.  ```py:percent``` format files use the ```.py``` suffix like regular Python programs.  The ```py:percent``` encoding is in structured comments so that developer tools such as Visual Studio Code can easily edit  ```py:percent``` format files.

Recreating ```.ipynb``` notebook files can be done in a Jupyter Notebook by opening a  ```py:percent``` format file and saving it.  In fact, Jupyter will automatically synchronize any changes in ```.ipynb``` notebooks to ```py:percent``` format files automatically.

IDE's such as [Visual Studio Code](https://marketplace.visualstudio.com/items?itemName=congyiwu.vscode-jupytext) support Jupytext extensions/plugins.

### Gear Study

I had this crazy idea that I could get better gas mileage if I managed the shifting instead of letting the engine and automatic transmission decide when to shift.  This notion was especially strong while driving through hilly terrain.  Notably on Interstate 44 through Missouri and Interstate 10 between San Antonio and Fort Stockton Texas.

Then I thought that better controlling the shift points would also be beneficial when vehicles were loaded, experiencing adverse weather (headwinds) or running at high elevation.

Even though the OBD standard, [J1979-DA, Digital Annex of E/E Diagnostic Test Modes J1979DA_202104](https://www.sae.org/standards/content/j1979da_202104/), documents an OBD command to retrieve the current gear from the vehicle, none of the vehicles tested support this particular command.  Also, vehicle manufacturers don't always document the different transmission gear ratios in the cars they sell.  It is difficult to determine how a vehicle actually works (or doesn't work).

Determining the current transmission gear in real time is the *Gear Study*'s goal.

I still don't know if it is hubris to think a better method, one that improves fuel efficiency, for making shifting decisions can be built.  But I *do* know a way to figure out what gear the vehicle is in.

- ```Gear-Study-0``` - summary
- ```Gear-Study-1``` - summary
- ```Gear-Study-2``` - summary
- ```Gear-Study-3``` - summary

### Fuel Study

## Supporting Code

## Private Data

## Anaconda Installation Environment

### Install Anaconda Distribution

[Download Anaconda](https://www.anaconda.com/download) and follow the Anaconda installation instructions.   Once the software is installed, run [Anaconda Navigator](https://docs.anaconda.com/free/navigator/index.html)

### Create New Conda Environment (Windows)

From Anaconda Navigator's ```base (root)``` environment, find the ```Powershell Prompt``` Launcher and launch a ```powershell``` terminal.

```powershell
conda create --name python311 python=3.11
activate python311
```

### Install Additional Conda Packages (Windows)

The following install commands may take an extremely long time to complete.

```powershell
activate python311
conda install bzip2 ipywidgets jupyter_client jupyterlab_widgets matplotlib
conda install nbclient nbconvert nbformat numpy pandas psutil python-dateutil pytz scipy seaborn setuptools tzdata wheel
conda install conda-forge::geopandas conda-forge::shapely conda-forge::geopy
conda install conda-forge::folium
conda install conda-forge::jupyter-ui-poll
```

### Install/Update Python Support Packages (Windows)

```powershell
activate python311
python -m pip install --upgrade pip
python -m pip install --upgrade wheel setuptools markdown build cython psutil
```

### Install/Update Additional PyPi Packages (Windows)

```powershell
activate python311
python -m pip install haversine nbimporter pandasgui plotly pyserial
python -m pip uninstall PIL
python -m pip uninstall Pillow
python -m pip install Pillow
```

### Build/Install Supporting Telemetry Packages (Windows)

```powershell
git clone https://github.com/thatlarrypearson/telemetry-counter.git
cd telemetry-counter
python -m pip uninstall -y telemetry-counter
python -m build .
python -m pip install .\dist\telemetry_counter-0.0.1-py3-none-any.whl
python -m tcounter.boot_counter --help
python -m tcounter.app_counter --help
cd ..


git clone https://github.com/thatlarrypearson/telemetry-obd.git
cd telemetry-obd
python -m pip uninstall -y telemetry-obd
python -m build .
python -m pip install .\dist\telemetry_obd-0.4.2-py3-none-any.whl
python -m telemetry_obd.obd_logger --help
python -m telemetry_obd.obd_command_tester --help
cd ..


git clone https://github.com/thatlarrypearson/telemetry-obd-log-to-csv.git
cd telemetry-obd-log-to-csv
python -m pip uninstall -y telemetry-obd-log-to-csv
python -m build .
python -m pip install .\dist\telemetry_obd_log_to_csv-0.3.3-py3-none-any.whl
python -m obd_log_to_csv.obd_log_to_csv --help
python -m obd_log_to_csv.obd_log_evaluation --help
python -m obd_log_to_csv.csv_to_delta_csv --help
python -m obd_log_to_csv.csv_to_ratio_csv --help
cd ..
```

## LICENSE

[MIT License](./LICENSE.md)
